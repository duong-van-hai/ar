<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>KIỂM TRA CÔNG NGHỆ TỔNG HỢP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { --blue: #1a73e8; --bg: #f0f2f5; --text: #3c4043; }
        body { font-family: sans-serif; background: var(--bg); line-height: 1.6; padding: 10px; }
        .container { max-width: 650px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: var(--blue); margin-bottom: 25px; }
        .sticky-header { position: sticky; top: 0; background: white; padding: 10px 0; z-index: 100; border-bottom: 2px solid var(--blue); margin-bottom: 20px; }
        input[type="text"] { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1.1rem; }
        .quiz-item { margin-bottom: 30px; padding: 15px; border: 1px solid #eee; border-radius: 10px; }
        .question { font-weight: bold; margin-bottom: 12px; color: #202124; }
        label { display: block; padding: 12px; margin: 8px 0; background: #f8f9fa; border-radius: 8px; cursor: pointer; border: 1px solid transparent; transition: 0.2s; }
        label:hover { background: #e8f0fe; border-color: var(--blue); }
        input[type="radio"] { margin-right: 12px; transform: scale(1.2); }
        .btn-submit { width: 100%; padding: 16px; background: var(--blue); color: white; border: none; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: 0.3s; margin-top: 20px; }
        .btn-submit:hover { background: #1557b0; }
        #result { margin-top: 20px; padding: 30px; text-align: center; border-radius: 12px; display: none; background: #fff; border: 2px solid var(--blue); }
        .score { font-size: 3rem; color: #d93025; font-weight: bold; margin: 15px 0; }
    </style>
</head>
<body>

<div class="container" id="quiz-app">
    <h1>KIỂM TRA CÔNG NGHỆ</h1>
    
    <div class="sticky-header">
        <input type="text" id="std-name" placeholder="NHẬP HỌ TÊN ĐỂ HIỆN ĐỀ THI...">
    </div>

    <div id="quiz-content">
        <p style="text-align:center; color:#666;">Vui lòng nhập tên ở trên để bắt đầu làm bài.</p>
    </div>

    <button id="submit-btn" class="btn-submit" onclick="submitQuiz()" style="display:none;">NỘP BÀI KIỂM TRA</button>
</div>

<div class="container" id="result"></div>

<script>
    // Ngân hàng 36 câu hỏi tổng hợp từ 2 đề 
    const bank = [
        // Nhóm câu hỏi Lớp 10 [cite: 1, 6, 11, 16, 19, 21, 23, 28, 33, 35, 37, 39]
        { q: "Công nghệ là gì?", options: ["Tri thức khoa học", "Thiết kế máy móc", "Giải pháp, quy trình, bí quyết kĩ thuật", "Thúc đẩy khoa học"], a: "Giải pháp, quy trình, bí quyết kĩ thuật" },
        { q: "Cấu trúc hệ thống kĩ thuật gồm?", options: ["Đầu vào, ra, hồi tiếp", "Đầu vào, ra, xử lí", "Đầu vào, ra, điều khiển", "Đầu vào, ra, lưu trữ"], a: "Đầu vào, đầu ra và bộ phận xử lí." },
        { q: "Biến đổi điện năng thành cơ năng là công nghệ?", options: ["Điện – điện tử", "Điện – cơ", "Tự động hóa", "Điện – quang"], a: "Công nghệ điện – cơ." },
        { q: "Công nghệ AI là viết tắt của?", options: ["Trí tuệ nhân tạo", "Internet vạn vật", "Robot thông minh", "In 3D"], a: "Công nghệ trí tuệ nhân tạo." },
        { q: "Chế tạo bằng cách đắp lớp vật liệu là?", options: ["Luyện kim", "Gia công áp lực", "Nano", "In 3D"], a: "Công nghệ in 3D" },
        { q: "Sản phẩm đặc trưng Cách mạng 4.0?", options: ["Máy tính", "Robot thông minh", "Máy hơi nước", "Bóng đèn"], a: "Robot thông minh." },
        { q: "Ngành nghề nào thuộc ngành cơ khí?", options: ["Lắp đặt điện", "Sửa chữa, cơ khí chế tạo", "Hệ thống điện", "Điện mặt trời"], a: "Sửa chữa, cơ khí chế tạo." },
        { q: "Nghề nghiệp trong lĩnh vực nào có xu hướng tăng?", options: ["Nông nghiệp", "Thủ công", "Công nghiệp, thợ lắp ráp, vận hành", "Dịch vụ tự do"], a: "Công nghiệp, thợ lắp ráp, vận hành máy móc thiết bị." },
        { q: "Khổ giấy chính bản vẽ kĩ thuật có?", options: ["3 loại", "4 loại", "5 loại", "7 loại"], a: "5" },
        { q: "Nét liền mảnh dùng để vẽ?", options: ["Đường gióng kích thước", "Đường bao thấy", "Đường tâm", "Đường trục"], a: "Nét liền mảnh." },
        { q: "Hình cắt toàn bộ biểu diễn cấu tạo?", options: ["Bên ngoài", "Bên trong", "Khuất", "Mặt cắt chập"], a: "Hình cắt toàn bộ." },
        { q: "Cặp hình chiếu trục đo biểu diễn cùng vật thể là?", options: ["(1)-(2)", "(1)-(6); (3)-(5); (4)-(7)", "(2)-(5)", "(3)-(4)"], a: "(1)-(6); (3) - (5); (4) - (7)." },

        // Nhóm câu hỏi Lớp 11 [cite: 43, 45, 47, 49, 51, 53, 55, 57, 59, 64, 66, 71]
        { q: "Vai trò cơ khí trong giao thông là?", options: ["Máy MRI", "Tưới tự động", "Động cơ ô tô, xe máy", "Máy xay lúa"], a: "Động cơ ô tô, xe máy." },
        { q: "Ai trực tiếp lắp động cơ ô tô?", options: ["Công nhân lắp ráp cơ khí", "Giám đốc", "Kỹ sư", "Bảo vệ"], a: "Công nhân lắp ráp cơ khí." },
        { q: "Tính chịu ăn mòn thuộc tính chất?", options: ["Vật lý", "Cơ học", "Hóa học", "Công nghệ"], a: "tính chịu ăn mòn." },
        { q: "Chống lại biến dạng dẻo hoặc phá hủy là?", options: ["Tính dẫn nhiệt", "Tính đúc", "Độ bền", "Khối lượng riêng"], a: "Độ bền (tính bền)." },
        { q: "Vật liệu ghi nhớ hình dạng ban đầu là?", options: ["Nano", "Hợp kim nhớ hình", "Thép", "Gang"], a: "Hợp kim nhớ hình." },
        { q: "Gia công có phoi là phương pháp?", options: ["Đúc", "Tiện", "Rèn", "Hàn"], a: "Tiện." },
        { q: "Ưu điểm của phương pháp hàn là?", options: ["Kém bền", "Hở", "Dễ cong", "Tiết kiệm kim loại"], a: "Tiết kiệm kim loại." },
        { q: "Chi tiết gắn dao trên máy tiện là?", options: ["Mâm cặp", "Ụ động", "Bàn gá dao", "Hộp tốc độ"], a: "bàn gá dao." },
        { q: "Trình tự sản xuất cơ khí đúng là?", options: ["Phôi-Gia công-Xử lý-Lắp ráp-Đóng gói", "Gia công-Phôi-Lắp ráp", "Lắp ráp-Đóng gói-Gia công", "Phôi-Lắp ráp-Gia công"], a: "Chế tạo phôi  Gia công  xử lí và bảo vệ  lắp ráp  đóng gói." },
        { q: "Xử lý bề mặt bao gồm hoạt động?", options: ["Tiện, phay", "Đúc, rèn", "Sơn, mạ, phủ hóa chất", "Lắp bu lông"], a: "Sơn, mạ, phủ hóa chất chống ăn mòn." },
        { q: "Đặc điểm nổi bật của Robot công nghiệp?", options: ["Suy nghĩ như người", "Làm theo chương trình lập sẵn", "Tốc độ ánh sáng", "Tự sửa chữa"], a: "Thực hiện các thao tác theo chương trình được lập trình sẵn." },
        { q: "Xếp thùng carton lên pallet là công đoạn?", options: ["Gia công", "Lắp ráp", "Kiểm tra", "Vận chuyển và xếp dỡ"], a: "Vận chuyển và xếp dỡ." },
        
        // Thêm các câu hỏi bổ sung dựa trên nội dung đề 
        { q: "Năng lượng đã biến đổi là thành phần nào?", options: ["Đầu vào", "Đầu ra", "Xử lý", "Hồi tiếp"], a: "Đầu ra" },
        { q: "IoT giúp kết nối thiết bị qua?", options: ["Dây dẫn", "Mạng Internet", "Sóng âm", "Thủ công"], a: "Mạng Internet" },
        { q: "Tỉ lệ 1:2 là loại tỉ lệ?", options: ["Phóng to", "Thu nhỏ", "Nguyên hình", "Tự do"], a: "Thu nhỏ" },
        { q: "Nét liền đậm vẽ đường nào?", options: ["Bao thấy", "Bao khuất", "Tâm", "Kích thước"], a: "Nét liền đậm." },
        { q: "Gang trắng dùng để luyện?", options: ["Đồng", "Thép", "Nhôm", "Kẽm"], a: "Thép" },
        { q: "Tiện, Phay, Bào thuộc nhóm gia công?", options: ["Không phoi", "Có phoi", "Áp lực", "Hóa học"], a: "Có phoi" },
        { q: "Máy hơi nước thuộc Cách mạng lần?", options: ["1", "2", "3", "4"], a: "1" },
        { q: "Kích thước khổ giấy A4?", options: ["210x297", "297x420", "420x594", "594x841"], a: "210x297" },
        { q: "Hợp kim của sắt và carbon là?", options: ["Đồng", "Nhôm", "Thép và gang", "Chì"], a: "Thép và gang" },
        { q: "Đúc là phương pháp chế tạo phôi bằng?", options: ["Rót lỏng vào khuôn", "Đập búa", "Cắt gọt", "Nối điện"], a: "Rót lỏng vào khuôn" },
        { q: "Rèn thuộc gia công?", options: ["Cắt gọt", "Áp lực", "Đúc", "Hàn"], a: "Áp lực" },
        { q: "AI mô phỏng trí tuệ của?", options: ["Máy móc", "Con người", "Robot", "Động vật"], a: "Con người" }
    ];

    // Lấy ngẫu nhiên 20 câu
    const questions = bank.sort(() => 0.5 - Math.random()).slice(0, 20);

    const nameInput = document.getElementById('std-name');
    const display = document.getElementById('quiz-content');
    const submitBtn = document.getElementById('submit-btn');

    // Sự kiện nhập tên để hiện đề
    nameInput.addEventListener('input', function() {
        if (this.value.trim().length >= 2) {
            renderQuiz();
            submitBtn.style.display = 'block';
        } else {
            display.innerHTML = '<p style="text-align:center; color:#666;">Vui lòng nhập tên ở trên để bắt đầu làm bài.</p>';
            submitBtn.style.display = 'none';
        }
    });

    function renderQuiz() {
        display.innerHTML = '';
        questions.forEach((item, i) => {
            let opts = [...item.options].sort(() => 0.5 - Math.random());
            let html = `<div class="quiz-item">
                <div class="question">Câu ${i+1}: ${item.q}</div>
                ${opts.map(opt => `<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label>`).join('')}
            </div>`;
            display.innerHTML += html;
        });
    }

    function submitQuiz() {
        const name = nameInput.value.trim();
        let score = 0;
        let unanswered = false;

        questions.forEach((item, i) => {
            const sel = document.querySelector(`input[name="q${i}"]:checked`);
            if (sel) {
                if (sel.value === item.a) score++;
            } else {
                unanswered = true;
            }
        });

        if (unanswered) {
            if (!confirm("Bạn còn câu hỏi chưa trả lời. Vẫn muốn nộp bài?")) return;
        }

        const finalScore = (score / questions.length * 10).toFixed(1);
        document.getElementById('quiz-app').style.display = 'none';
        
        const res = document.getElementById('result');
        res.style.display = 'block';
        res.innerHTML = `
            <h2>KẾT QUẢ CỦA: ${name.toUpperCase()}</h2>
            <div class="score">${finalScore} ĐIỂM</div>
            <p>Đúng: ${score}/${questions.length} câu</p>
            <button class="btn-submit" onclick="location.reload()" style="background:#6c757d">LÀM LẠI ĐỀ KHÁC</button>
        `;
    }
</script>
</body>
</html>
