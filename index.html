<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>KIỂM TRA CÔNG NGHỆ TỔNG HỢP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { --blue: #1a73e8; --bg: #f0f2f5; --text: #3c4043; }
        body { font-family: sans-serif; background: var(--bg); line-height: 1.6; padding: 10px; }
        .container { max-width: 650px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: var(--blue); margin-bottom: 25px; }
        .input-group { margin-bottom: 30px; position: sticky; top: 0; background: white; padding: 10px 0; z-index: 100; border-bottom: 1px solid #eee; }
        input[type="text"] { width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 1.1rem; }
        .quiz-item { margin-bottom: 30px; padding: 15px; border: 1px solid #eee; border-radius: 10px; }
        .question { font-weight: bold; margin-bottom: 12px; color: #202124; }
        label { display: block; padding: 12px; margin: 8px 0; background: #f8f9fa; border-radius: 8px; cursor: pointer; border: 1px solid transparent; }
        label:hover { background: #e8f0fe; border-color: var(--blue); }
        input[type="radio"] { margin-right: 12px; transform: scale(1.2); }
        .btn-submit { width: 100%; padding: 16px; background: var(--blue); color: white; border: none; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-submit:hover { background: #1557b0; }
        #result { margin-top: 20px; padding: 30px; text-align: center; border-radius: 12px; display: none; background: #fff; border: 2px solid var(--blue); }
        .score { font-size: 3rem; color: #d93025; font-weight: bold; margin: 15px 0; }
    </style>
</head>
<body>

<div class="container" id="quiz-app">
    <h1>KIỂM TRA CÔNG NGHỆ</h1>
    
    <div class="input-group">
        <input type="text" id="std-name" placeholder="BẮT BUỘC: Nhập Họ tên trước khi làm bài...">
    </div>

    <div id="quiz-content"></div>

    <button class="btn-submit" onclick="submitQuiz()">NỘP BÀI KIỂM TRA</button>
</div>

<div class="container" id="result"></div>

<script>
    // Ngân hàng 36 câu hỏi tổng hợp 
    const bank = [
        { q: "Công nghệ là gì?", options: ["Tri thức khoa học", "Thiết kế máy móc", "Giải pháp, quy trình, bí quyết kĩ thuật", "Thúc đẩy khoa học"], a: "Giải pháp, quy trình, bí quyết kĩ thuật" },
        { q: "Cấu trúc hệ thống kĩ thuật gồm?", options: ["Đầu vào, ra, hồi tiếp", "Đầu vào, ra, xử lí", "Đầu vào, ra, điều khiển", "Đầu vào, ra, lưu trữ"], a: "Đầu vào, ra, xử lí" },
        { q: "Biến đổi điện năng thành cơ năng là công nghệ?", options: ["Điện – điện tử", "Điện – cơ", "Tự động hóa", "Điện – quang"], a: "Điện – cơ" },
        { q: "Công nghệ AI là viết tắt của?", options: ["Trí tuệ nhân tạo", "Internet vạn vật", "Robot thông minh", "In 3D"], a: "Trí tuệ nhân tạo" },
        { q: "Chế tạo bằng cách đắp lớp vật liệu là?", options: ["Luyện kim", "Gia công áp lực", "Nano", "In 3D"], a: "In 3D" },
        { q: "Sản phẩm đặc trưng Cách mạng 4.0?", options: ["Máy tính", "Robot thông minh", "Máy hơi nước", "Bóng đèn"], a: "Robot thông minh" },
        { q: "Ngành nghề nào thuộc ngành cơ khí?", options: ["Lắp đặt điện", "Sửa chữa, cơ khí chế tạo", "Hệ thống điện", "Điện mặt trời"], a: "Sửa chữa, cơ khí chế tạo" },
        { q: "Khổ giấy chính bản vẽ kĩ thuật có?", options: ["3 loại", "4 loại", "5 loại", "7 loại"], a: "5 loại" },
        { q: "Nét liền mảnh dùng để vẽ?", options: ["Đường gióng kích thước", "Đường bao thấy", "Đường tâm", "Đường trục"], a: "Đường gióng kích thước" },
        { q: "Hình cắt toàn bộ biểu diễn cấu tạo?", options: ["Bên ngoài", "Bên trong", "Khuất", "Mặt cắt chập"], a: "Bên trong" },
        { q: "Sản phẩm cơ khí trong giao thông là?", options: ["Máy MRI", "Tưới tự động", "Động cơ ô tô, xe máy", "Máy xay lúa"], a: "Động cơ ô tô, xe máy" },
        { q: "Người trực tiếp lắp động cơ ô tô là?", options: ["Công nhân lắp ráp", "Giám đốc", "Kỹ sư", "Nhân viên bảo vệ"], a: "Công nhân lắp ráp" },
        { q: "Tính chịu ăn mòn thuộc tính chất?", options: ["Vật lý", "Cơ học", "Hóa học", "Công nghệ"], a: "Hóa học" },
        { q: "Vật liệu ghi nhớ hình dạng ban đầu là?", options: ["Nano", "Hợp kim nhớ hình", "Thép", "Gang"], a: "Hợp kim nhớ hình" },
        { q: "Phương pháp gia công có phoi là?", options: ["Đúc", "Tiện", "Rèn", "Hàn"], a: "Tiện" },
        { q: "Bước xử lý bảo vệ bề mặt gồm?", options: ["Tiện, phay", "Đúc, rèn", "Sơn, mạ, phủ hóa chất", "Lắp ráp"], a: "Sơn, mạ, phủ hóa chất" },
        { q: "Robot xếp thùng lên pallet là công đoạn?", options: ["Gia công", "Lắp ráp", "Kiểm tra", "Vận chuyển và xếp dỡ"], a: "Vận chuyển và xếp dỡ" },
        { q: "Gang có hàm lượng carbon?", options: ["Dưới 2.14%", "Trên 2.14%", "Dưới 0.8%", "Trên 6.67%"], a: "Trên 2.14%" },
        { q: "Máy hơi nước thuộc Cách mạng CN lần?", options: ["1", "2", "3", "4"], a: "1" },
        { q: "Khổ giấy A4 kích thước?", options: ["210x297", "297x420", "420x594", "594x841"], a: "210x297" },
        { q: "Năng lượng biến đổi là thành phần?", options: ["Đầu vào", "Đầu ra", "Xử lý", "Hồi tiếp"], a: "Đầu ra" },
        { q: "IoT giúp kết nối thiết bị qua?", options: ["Dây dẫn", "Mạng Internet", "Sóng âm", "Thủ công"], a: "Mạng Internet" },
        { q: "Tỉ lệ 1:2 là loại tỉ lệ?", options: ["Phóng to", "Thu nhỏ", "Nguyên hình", "Tự do"], a: "Thu nhỏ" },
        { q: "Tính chất chống ngoại lực phá hủy gọi là?", options: ["Tính dẫn điện", "Độ bền", "Tính đúc", "Tính dẻo"], a: "Độ bền" },
        { q: "Chuyển động chính khi tiện là?", options: ["Phôi quay tròn", "Dao tịnh tiến", "Dao quay tròn", "Bàn máy lên xuống"], a: "Phôi quay tròn" },
        { q: "Vật liệu siêu nhẹ, bền cao dùng hàng không là?", options: ["Thép", "Đồng", "Nhôm và hợp kim nhôm", "Chì"], a: "Nhôm và hợp kim nhôm" },
        { q: "Đúc là phương pháp chế tạo phôi bằng?", options: ["Rót kim loại lỏng vào khuôn", "Đập bằng búa", "Cắt gọt", "Nối bằng điện"], a: "Rót kim loại lỏng vào khuôn" },
        { q: "Rèn thuộc công nghệ gia công?", options: ["Cắt gọt", "Áp lực", "Đúc", "Hàn"], a: "Áp lực" },
        { q: "Bản vẽ có tỉ lệ 2:1 là tỉ lệ?", options: ["Thu nhỏ", "Nguyên hình", "Phóng to", "Tùy ý"], a: "Phóng to" },
        { q: "Nét liền đậm vẽ đường nào?", options: ["Bao thấy", "Bao khuất", "Tâm", "Kích thước"], a: "Bao thấy" },
        { q: "Robot thực hiện thao tác theo?", options: ["Cảm xúc", "Chương trình lập sẵn", "Tự do", "Ánh sáng"], a: "Chương trình lập sẵn" },
        { q: "Gang trắng dùng để luyện?", options: ["Đồng", "Thép", "Nhôm", "Kẽm"], a: "Thép" },
        { q: "Tính chất đặc trưng của AI là?", options: ["Mô phỏng trí tuệ con người", "Kết nối vạn vật", "Sản xuất phôi", "In vật thể"], a: "Mô phỏng trí tuệ con người" },
        { q: "Tiện, Phay, Bào thuộc nhóm gia công?", options: ["Không phoi", "Có phoi", "Áp lực", "Hóa học"], a: "Có phoi" },
        { q: "Mối hàn tiết kiệm kim loại hơn?", options: ["Ghép bu lông", "Đúc", "Rèn", "Dán"], a: "Ghép bu lông" },
        { q: "Ai thiết kế hệ thống điều khiển?", options: ["Kỹ sư", "Công nhân", "Nhân viên bảo vệ", "Lễ tân"], a: "Kỹ sư" }
    ];

    // Trộn và lấy 20 câu
    const questions = bank.sort(() => 0.5 - Math.random()).slice(0, 20);

    const display = document.getElementById('quiz-content');
    questions.forEach((item, i) => {
        let opts = [...item.options].sort(() => 0.5 - Math.random());
        let html = `<div class="quiz-item">
            <div class="question">Câu ${i+1}: ${item.q}</div>
            ${opts.map(opt => `<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label>`).join('')}
        </div>`;
        display.innerHTML += html;
    });

    function submitQuiz() {
        const name = document.getElementById('std-name').value.trim();
        if (!name) {
            alert("EM CHƯA NHẬP TÊN! Vui lòng nhập tên trước khi nộp bài.");
            window.scrollTo(0,0);
            return;
        }

        let score = 0;
        questions.forEach((item, i) => {
            const sel = document.querySelector(`input[name="q${i}"]:checked`);
            if (sel && sel.value === item.a) score++;
        });

        const finalScore = (score / questions.length * 10).toFixed(1);
        document.getElementById('quiz-app').style.display = 'none';
        
        const res = document.getElementById('result');
        res.style.display = 'block';
        res.innerHTML = `
            <h2>KẾT QUẢ CỦA: ${name.toUpperCase()}</h2>
            <div class="score">${finalScore} ĐIỂM</div>
            <p>Đúng: ${score}/${questions.length} câu</p>
            <button class="btn-submit" onclick="location.reload()" style="background:#6c757d">LÀM LẠI ĐỀ KHÁC</button>
        `;
    }
</script>
</body>
</html>
